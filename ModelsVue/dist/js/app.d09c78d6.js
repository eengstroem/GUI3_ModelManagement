(function(e){function t(t){for(var r,s,i=t[0],u=t[1],p=t[2],c=0,d=[];c<i.length;c++)s=i[c],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,p||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var p=0;p<i.length;p++)t(i[p]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Login")],1)},a=[],s=n("2f62");r["a"].use(s["a"]);var i=new s["a"].Store({state:{LoggedIn:!1,IsManager:!1},mutations:{login:function(e){e.LoggedIn=!0},logout:function(e){e.LoggedIn=!1}}}),u=i,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return this.$store.state.LoggedIn?n("div",[n("h1",[e._v("Welcome!")]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.email,expression:"input.email"}],attrs:{type:"text",name:"email",placeholder:"Email"},domProps:{value:e.input.email},on:{input:function(t){t.target.composing||e.$set(e.input,"email",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],attrs:{type:"password",name:"password",placeholder:"New Password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.oldpassword,expression:"input.oldpassword"}],attrs:{type:"password",name:"oldpassword",placeholder:"Old Password"},domProps:{value:e.input.oldpassword},on:{input:function(t){t.target.composing||e.$set(e.input,"oldpassword",t.target.value)}}}),n("button",{attrs:{type:"button"},on:{click:function(t){e.changepass()}}},[e._v("Change Password")])]),n("div",[n("button",{attrs:{type:"button"},on:{click:function(t){e.logout()}}},[e._v("Logout")])])]):n("div",{attrs:{id:"login"}},[n("h1",[e._v("Login")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.email,expression:"input.email"}],attrs:{type:"text",name:"email",placeholder:"Email"},domProps:{value:e.input.email},on:{input:function(t){t.target.composing||e.$set(e.input,"email",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),n("button",{attrs:{type:"button"},on:{click:function(t){e.login()}}},[e._v("Login")])])},l=[],c=(n("96cf"),n("1da1")),d={name:"Login",data:function(){return{input:{email:"",password:"",oldpassword:""}}},store:u,methods:{login:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="https://localhost:44368/api/account/login",e.prev=1,n={Email:this.input.email,Password:this.input.password,OldPassword:""},e.next=5,fetch(t,{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json"})});case 5:if(r=e.sent,!r.ok){e.next=16;break}return e.next=9,r.json();case 9:o=e.sent,localStorage.setItem("token",o.jwt),this.$store.commit("login"),this.input.password="",this.input.email="",e.next=17;break;case 16:alert("Server returned: "+r.statusText);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](1),alert("Error: "+e.t0);case 22:return e.abrupt("return");case 23:case"end":return e.stop()}},e,this,[[1,19]])}));function t(){return e.apply(this,arguments)}return t}(),changepass:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="https://localhost:44368/api/account/password",e.prev=1,n={Email:this.input.email,Password:this.input.password,OldPassword:this.input.oldpassword},e.next=5,fetch(t,{method:"PUT",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 5:r=e.sent,r.ok?(this.input.password="",this.input.email="",this.input.oldpassword="",alert("Password has been changed!")):alert("Server returned: "+r.statusText),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),alert("Error: "+e.t0);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.removeItem("token"),this.$store.commit("logout"),this.input.password="",this.input.email="",e.abrupt("return");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},m=d,f=n("2877"),h=Object(f["a"])(m,p,l,!1,null,"29260999",null),v=h.exports,g={name:"app",store:u,components:{Login:v}},w=g,b=Object(f["a"])(w,o,a,!1,null,null,null),y=b.exports;r["a"].config.productionTip=!0,new r["a"]({render:function(e){return e(y)}}).$mount("#app")}});
//# sourceMappingURL=app.d09c78d6.js.map